{"ast":null,"code":"export const placeReducer = (state, action) => {\n  switch (action.type) {\n    case 'SHOW_PLACES':\n      const {\n        data,\n        columnsCount\n      } = action.search;\n      const newState = loadPlaces(state, data, columnsCount);\n      return newState;\n\n    default:\n      return state;\n  }\n};\n\nconst loadPlaces = (state, data, columnsCount) => {\n  var columns = {};\n  var columnOrder = [];\n\n  for (var i = 0; i < columnsCount; i++) {\n    var dataObject = {};\n    dataObject['id'] = `column-${i}`;\n    dataObject['title'] = `Day ${i + 1}`;\n    dataObject['placeIds'] = [];\n    columns[`column-${i}`] = dataObject;\n    columnOrder.push(`column-${i}`);\n  }\n\n  var placesFetched = {};\n  var placeIds = [];\n\n  for (var j = 0; j < data.results.length; j++) {\n    //object structure of place card is set here\n    var placeObject = {};\n    placeObject['id'] = `place-${j}`;\n    placeObject['content'] = data.results[j].name;\n    placeObject['rating'] = data.results[j].rating;\n    placeObject['photoRef'] = data.results[j].photos ? data.results[j].photos[0].photo_reference : \"0\"; //console.log(placeObject);\n\n    placeIds.push(`place-${j}`);\n    placesFetched[`place-${j}`] = placeObject;\n  }\n\n  columns['data-1'] = { ...state.columns['data-1'],\n    placeIds: placeIds\n  };\n  const newState = { ...state,\n    places: placesFetched,\n    columns: { ...state.columns,\n      ...columns\n    },\n    columnOrder: [...columnOrder]\n  };\n  return newState;\n};","map":{"version":3,"sources":["/Users/wen/Desktop/Projects/React/dnd/src/Store/placeReducer.js"],"names":["placeReducer","state","action","type","data","columnsCount","search","newState","loadPlaces","columns","columnOrder","i","dataObject","push","placesFetched","placeIds","j","results","length","placeObject","name","rating","photos","photo_reference","places"],"mappings":"AAAA,OAAO,MAAMA,YAAY,GAAG,CAACC,KAAD,EAAQC,MAAR,KAAmB;AAC3C,UAAQA,MAAM,CAACC,IAAf;AACI,SAAK,aAAL;AACI,YAAM;AAAEC,QAAAA,IAAF;AAAQC,QAAAA;AAAR,UAAyBH,MAAM,CAACI,MAAtC;AACA,YAAMC,QAAQ,GAAGC,UAAU,CAACP,KAAD,EAAQG,IAAR,EAAcC,YAAd,CAA3B;AACA,aAAOE,QAAP;;AACJ;AACI,aAAON,KAAP;AANR;AAQH,CATM;;AAWP,MAAMO,UAAU,GAAG,CAACP,KAAD,EAAQG,IAAR,EAAcC,YAAd,KAA+B;AAE9C,MAAII,OAAO,GAAG,EAAd;AACA,MAAIC,WAAW,GAAG,EAAlB;;AAEA,OAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGN,YAApB,EAAkCM,CAAC,EAAnC,EAAuC;AACnC,QAAIC,UAAU,GAAG,EAAjB;AACAA,IAAAA,UAAU,CAAC,IAAD,CAAV,GAAoB,UAASD,CAAE,EAA/B;AACAC,IAAAA,UAAU,CAAC,OAAD,CAAV,GAAuB,OAAMD,CAAC,GAAG,CAAE,EAAnC;AACAC,IAAAA,UAAU,CAAC,UAAD,CAAV,GAAyB,EAAzB;AAEAH,IAAAA,OAAO,CAAE,UAASE,CAAE,EAAb,CAAP,GAAyBC,UAAzB;AACAF,IAAAA,WAAW,CAACG,IAAZ,CAAkB,UAASF,CAAE,EAA7B;AACH;;AAED,MAAIG,aAAa,GAAG,EAApB;AACA,MAAIC,QAAQ,GAAG,EAAf;;AAEA,OAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGZ,IAAI,CAACa,OAAL,CAAaC,MAAjC,EAAyCF,CAAC,EAA1C,EAA8C;AAE1C;AAEA,QAAIG,WAAW,GAAG,EAAlB;AACAA,IAAAA,WAAW,CAAC,IAAD,CAAX,GAAqB,SAAQH,CAAE,EAA/B;AACAG,IAAAA,WAAW,CAAC,SAAD,CAAX,GAAyBf,IAAI,CAACa,OAAL,CAAaD,CAAb,EAAgBI,IAAzC;AACAD,IAAAA,WAAW,CAAC,QAAD,CAAX,GAAwBf,IAAI,CAACa,OAAL,CAAaD,CAAb,EAAgBK,MAAxC;AACAF,IAAAA,WAAW,CAAC,UAAD,CAAX,GAA0Bf,IAAI,CAACa,OAAL,CAAaD,CAAb,EAAgBM,MAAhB,GAAyBlB,IAAI,CAACa,OAAL,CAAaD,CAAb,EAAgBM,MAAhB,CAAuB,CAAvB,EAA0BC,eAAnD,GAAqE,GAA/F,CAR0C,CAS1C;;AACAR,IAAAA,QAAQ,CAACF,IAAT,CAAe,SAAQG,CAAE,EAAzB;AACAF,IAAAA,aAAa,CAAE,SAAQE,CAAE,EAAZ,CAAb,GAA8BG,WAA9B;AAEH;;AAEDV,EAAAA,OAAO,CAAC,QAAD,CAAP,GAAoB,EAChB,GAAGR,KAAK,CAACQ,OAAN,CAAc,QAAd,CADa;AAEhBM,IAAAA,QAAQ,EAAEA;AAFM,GAApB;AAKA,QAAMR,QAAQ,GAAG,EACb,GAAGN,KADU;AAEbuB,IAAAA,MAAM,EAAEV,aAFK;AAGbL,IAAAA,OAAO,EAAE,EACL,GAAGR,KAAK,CAACQ,OADJ;AAEL,SAAGA;AAFE,KAHI;AAObC,IAAAA,WAAW,EAAE,CAAC,GAAGA,WAAJ;AAPA,GAAjB;AAUA,SAAOH,QAAP;AACH,CAjDD","sourcesContent":["export const placeReducer = (state, action) => {\n    switch (action.type) {\n        case 'SHOW_PLACES':\n            const { data, columnsCount } = action.search;\n            const newState = loadPlaces(state, data, columnsCount);\n            return newState;\n        default:\n            return state;\n    }\n}\n\nconst loadPlaces = (state, data, columnsCount) => {\n\n    var columns = {};\n    var columnOrder = [];\n\n    for (var i = 0; i < columnsCount; i++) {\n        var dataObject = {};\n        dataObject['id'] = `column-${i}`;\n        dataObject['title'] = `Day ${i + 1}`;\n        dataObject['placeIds'] = [];\n\n        columns[`column-${i}`] = dataObject;\n        columnOrder.push(`column-${i}`);\n    }\n\n    var placesFetched = {};\n    var placeIds = [];\n    \n    for (var j = 0; j < data.results.length; j++) {\n\n        //object structure of place card is set here\n\n        var placeObject = {};\n        placeObject['id'] = `place-${j}`;\n        placeObject['content'] = data.results[j].name;\n        placeObject['rating'] = data.results[j].rating;\n        placeObject['photoRef'] = data.results[j].photos ? data.results[j].photos[0].photo_reference : \"0\";\n        //console.log(placeObject);\n        placeIds.push(`place-${j}`);\n        placesFetched[`place-${j}`] = placeObject;\n    \n    }\n\n    columns['data-1'] = {\n        ...state.columns['data-1'],\n        placeIds: placeIds\n    }\n    \n    const newState = {\n        ...state,\n        places: placesFetched,\n        columns: {\n            ...state.columns,\n            ...columns,\n        },\n        columnOrder: [...columnOrder],\n    }\n\n    return newState;\n}"]},"metadata":{},"sourceType":"module"}