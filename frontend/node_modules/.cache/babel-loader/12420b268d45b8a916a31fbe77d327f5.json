{"ast":null,"code":"var _jsxFileName = \"/Users/wen/Desktop/Projects/React/travelPlanner/client/src/Components/form.js\";\nimport React, { useState, useContext } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { TextField, MenuItem, Button } from '@material-ui/core/';\nimport FlightIcon from '@material-ui/icons/Flight';\nimport { PlaceContext } from '../Store/PlaceContext';\nimport { fetchCategories } from '../Services/googlePlaceApi';\nconst useStyles = makeStyles({\n  textField: {\n    marginRight: 5,\n    width: '25ch'\n  },\n  submitButton: {\n    height: 53\n  },\n  root: {\n    paddingTop: 20,\n    paddingBottom: 40\n  }\n});\n\nfunction Form() {\n  const {\n    placeState,\n    dispatch\n  } = useContext(PlaceContext);\n  console.log('form has been re-rendered: ', placeState.days, placeState.location);\n  const [days, setDays] = useState(placeState.days);\n  const [location, setLocation] = useState(placeState.location);\n  const placeTypes = ['Restaurants', \"Hotels\", \"Tourist+attraction\"];\n\n  const fetchPlaces = async () => {\n    fetchCategories(placeTypes, location, dispatch); // const googlePlacesApi = process.env.REACT_APP_GOOGLE_PLACES_API_KEY;\n    // for (var i = 0; i < placeTypes.length; i++){\n    //     // https://stackoverflow.com/questions/43262121/trying-to-use-fetch-and-pass-in-mode-no-cors \n    //     // added proxy in package.json \"proxy\": \"https://maps.googleapis.com/maps/api\"\n    //     const response = await fetch(`/place/textsearch/json?query=best+${placeTypes[i]}+${location}&key=${googlePlacesApi}`)\n    //     const extraSuggestions = await response.json();\n    //     dispatch({ type:\"LOAD_ITINERARY\", payload:{extraSuggestions, placeType: placeTypes[i]}})\n    // }\n  };\n\n  const submitHandler = async () => {\n    dispatch({\n      type: \"CLEAR_STATE\"\n    });\n    dispatch({\n      type: \"LOAD_DAYBOARDS\",\n      payload: {\n        numberOfDays: days,\n        city: location\n      }\n    });\n    fetchPlaces(); // let compiledData = await fetchPlaces();\n    // dispatch({ type:'SHOW_PLACES', search: {compiledData, days, location}});\n  };\n\n  const classes = useStyles();\n  return React.createElement(\"div\", {\n    className: classes.root,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  }, React.createElement(TextField, {\n    className: classes.textField,\n    id: \"location\",\n    select: true,\n    label: \"Select City\",\n    value: location,\n    onChange: e => setLocation(e.target.value),\n    variant: \"outlined\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68\n    },\n    __self: this\n  }, React.createElement(MenuItem, {\n    value: \"Berlin\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77\n    },\n    __self: this\n  }, \"Berlin\"), React.createElement(MenuItem, {\n    value: \"Zurich\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78\n    },\n    __self: this\n  }, \"Zurich\"), React.createElement(MenuItem, {\n    value: \"New+York\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79\n    },\n    __self: this\n  }, \"New York\")), React.createElement(TextField, {\n    className: classes.textField,\n    label: \"Days\",\n    value: days,\n    variant: \"outlined\",\n    onChange: e => setDays(e.target.value),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81\n    },\n    __self: this\n  }), React.createElement(Button, {\n    variant: \"outlined\",\n    className: classes.submitButton,\n    onClick: submitHandler,\n    startIcon: React.createElement(FlightIcon, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88\n    },\n    __self: this\n  }, \"Submit\"));\n}\n\nexport default Form;","map":{"version":3,"sources":["/Users/wen/Desktop/Projects/React/travelPlanner/client/src/Components/form.js"],"names":["React","useState","useContext","makeStyles","TextField","MenuItem","Button","FlightIcon","PlaceContext","fetchCategories","useStyles","textField","marginRight","width","submitButton","height","root","paddingTop","paddingBottom","Form","placeState","dispatch","console","log","days","location","setDays","setLocation","placeTypes","fetchPlaces","submitHandler","type","payload","numberOfDays","city","classes","e","target","value"],"mappings":"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","sourcesContent":["import React, { useState, useContext } from 'react';\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport {TextField, MenuItem, Button} from '@material-ui/core/';\nimport FlightIcon from '@material-ui/icons/Flight';\n\nimport { PlaceContext } from '../Store/PlaceContext';\nimport { fetchCategories } from '../Services/googlePlaceApi'\n\nconst useStyles = makeStyles({\n    textField: {\n        marginRight: 5,\n        width: '25ch',\n    },\n    submitButton: {\n        height: 53,\n    },\n    root: {\n        paddingTop: 20,\n        paddingBottom: 40,\n    }\n})\n\nfunction Form() {\n\n    \n\n    const { placeState, dispatch } = useContext(PlaceContext);\n    console.log('form has been re-rendered: ', placeState.days, placeState.location)\n\n    const [days, setDays] = useState(placeState.days);\n    const [location, setLocation] = useState(placeState.location);\n\n    const placeTypes = ['Restaurants', \"Hotels\", \"Tourist+attraction\"];\n\n    const fetchPlaces = async () => {\n\n        fetchCategories(placeTypes, location, dispatch)\n        // const googlePlacesApi = process.env.REACT_APP_GOOGLE_PLACES_API_KEY;\n\n        // for (var i = 0; i < placeTypes.length; i++){\n\n        //     // https://stackoverflow.com/questions/43262121/trying-to-use-fetch-and-pass-in-mode-no-cors \n        //     // added proxy in package.json \"proxy\": \"https://maps.googleapis.com/maps/api\"\n\n        //     const response = await fetch(`/place/textsearch/json?query=best+${placeTypes[i]}+${location}&key=${googlePlacesApi}`)\n        //     const extraSuggestions = await response.json();\n\n        //     dispatch({ type:\"LOAD_ITINERARY\", payload:{extraSuggestions, placeType: placeTypes[i]}})\n        // }\n\n    }\n\n\n    const submitHandler = async () => {\n        dispatch({ type:\"CLEAR_STATE\" })\n        dispatch({ type:\"LOAD_DAYBOARDS\", payload:{numberOfDays: days, city: location}})\n        fetchPlaces();\n        // let compiledData = await fetchPlaces();\n        // dispatch({ type:'SHOW_PLACES', search: {compiledData, days, location}});\n\n    };\n\n    const classes = useStyles();\n\n    return (\n        <div className={classes.root}>\n            <TextField\n            className={classes.textField}\n            id=\"location\"\n            select\n            label=\"Select City\"\n            value={location}\n            onChange={(e) => setLocation(e.target.value)}\n            variant=\"outlined\"\n            >\n                <MenuItem value=\"Berlin\">Berlin</MenuItem>\n                <MenuItem value=\"Zurich\">Zurich</MenuItem>\n                <MenuItem value=\"New+York\">New York</MenuItem>\n            </TextField>\n            <TextField \n                className={classes.textField}\n                label=\"Days\" \n                value={days} \n                variant=\"outlined\" \n                onChange={(e) => setDays(e.target.value)}\n            />\n            <Button \n                variant=\"outlined\" \n                className={classes.submitButton}\n                onClick={submitHandler}\n                startIcon={<FlightIcon />}\n            >\n                Submit\n            </Button>\n        </div>\n    );\n}\n\nexport default Form;\n\n"]},"metadata":{},"sourceType":"module"}