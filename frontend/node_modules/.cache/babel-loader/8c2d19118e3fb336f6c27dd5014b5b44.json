{"ast":null,"code":"var _jsxFileName = \"/Users/wen/Desktop/Projects/React/travelPlanner/dnd/src/Pages/login.js\";\nimport React, { useState, useContext } from 'react';\nimport { useMutation } from '@apollo/react-hooks';\nimport gql from 'graphql-tag';\nimport { AuthContext } from '../Store/AuthContext';\n\nfunction Login() {\n  const {\n    authState,\n    dispatch\n  } = useContext(AuthContext);\n  const [errors, setErrors] = useState({});\n  const [loginInput, setLoginInput] = useState({\n    username: \"\",\n    password: \"\"\n  });\n  const [loginUser] = useMutation(LOGIN_MUTATION, {\n    update(_, result) {\n      console.log(\"login success: \", result.data.login);\n      dispatch({\n        type: 'LOGIN',\n        payload: result.data.login\n      });\n    },\n\n    onError(err) {\n      console.log(err.graphQLErrors[0].extensions.exception.errors);\n    },\n\n    variables: loginInput\n  });\n  console.log('authState: ', authState);\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30\n    },\n    __self: this\n  }, React.createElement(\"h1\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31\n    },\n    __self: this\n  }, \"Login\"), React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32\n    },\n    __self: this\n  }, \"Username\"), React.createElement(\"input\", {\n    id: \"username\",\n    value: loginInput.username,\n    onChange: e => setLoginInput({ ...loginInput,\n      [e.target.id]: e.target.value\n    }),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33\n    },\n    __self: this\n  }), React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35\n    },\n    __self: this\n  }, \"Password\"), React.createElement(\"input\", {\n    id: \"password\",\n    value: loginInput.password,\n    onChange: e => setLoginInput({ ...loginInput,\n      [e.target.id]: e.target.value\n    }),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36\n    },\n    __self: this\n  }), React.createElement(\"button\", {\n    onClick: loginUser,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38\n    },\n    __self: this\n  }, \"Login\"));\n}\n\nconst LOGIN_MUTATION = gql`\n    mutation login(\n        $username: String!\n        $password: String!\n    ){\n        login(\n            username: $username\n            password: $password\n        ){\n            id\n            email\n            username\n            createdAt\n            token\n        }\n    }\n`;\nexport default Login;","map":{"version":3,"sources":["/Users/wen/Desktop/Projects/React/travelPlanner/dnd/src/Pages/login.js"],"names":["React","useState","useContext","useMutation","gql","AuthContext","Login","authState","dispatch","errors","setErrors","loginInput","setLoginInput","username","password","loginUser","LOGIN_MUTATION","update","_","result","console","log","data","login","type","payload","onError","err","graphQLErrors","extensions","exception","variables","e","target","id","value"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,QAAf,EAAyBC,UAAzB,QAA0C,OAA1C;AACA,SAASC,WAAT,QAA4B,qBAA5B;AACA,OAAOC,GAAP,MAAgB,aAAhB;AAEA,SAASC,WAAT,QAA4B,sBAA5B;;AAEA,SAASC,KAAT,GAAiB;AAEb,QAAM;AAAEC,IAAAA,SAAF;AAAaC,IAAAA;AAAb,MAA0BN,UAAU,CAACG,WAAD,CAA1C;AACA,QAAM,CAACI,MAAD,EAASC,SAAT,IAAsBT,QAAQ,CAAC,EAAD,CAApC;AACA,QAAM,CAACU,UAAD,EAAaC,aAAb,IAA8BX,QAAQ,CAAC;AACzCY,IAAAA,QAAQ,EAAE,EAD+B;AAEzCC,IAAAA,QAAQ,EAAE;AAF+B,GAAD,CAA5C;AAKA,QAAM,CAACC,SAAD,IAAcZ,WAAW,CAACa,cAAD,EAAiB;AAC5CC,IAAAA,MAAM,CAACC,CAAD,EAAIC,MAAJ,EAAW;AACbC,MAAAA,OAAO,CAACC,GAAR,CAAY,iBAAZ,EAA+BF,MAAM,CAACG,IAAP,CAAYC,KAA3C;AACAf,MAAAA,QAAQ,CAAC;AAAEgB,QAAAA,IAAI,EAAE,OAAR;AAAiBC,QAAAA,OAAO,EAAEN,MAAM,CAACG,IAAP,CAAYC;AAAtC,OAAD,CAAR;AACH,KAJ2C;;AAK5CG,IAAAA,OAAO,CAACC,GAAD,EAAK;AACRP,MAAAA,OAAO,CAACC,GAAR,CAAYM,GAAG,CAACC,aAAJ,CAAkB,CAAlB,EAAqBC,UAArB,CAAgCC,SAAhC,CAA0CrB,MAAtD;AACH,KAP2C;;AAQ5CsB,IAAAA,SAAS,EAAEpB;AARiC,GAAjB,CAA/B;AAWAS,EAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ,EAA2Bd,SAA3B;AAEA,SACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aADJ,EAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFJ,EAGI;AAAO,IAAA,EAAE,EAAC,UAAV;AAAqB,IAAA,KAAK,EAAEI,UAAU,CAACE,QAAvC;AACA,IAAA,QAAQ,EAAGmB,CAAD,IAAOpB,aAAa,CAAC,EAAC,GAAGD,UAAJ;AAAgB,OAACqB,CAAC,CAACC,MAAF,CAASC,EAAV,GAAeF,CAAC,CAACC,MAAF,CAASE;AAAxC,KAAD,CAD9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHJ,EAKI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBALJ,EAMI;AAAO,IAAA,EAAE,EAAC,UAAV;AAAqB,IAAA,KAAK,EAAExB,UAAU,CAACG,QAAvC;AACA,IAAA,QAAQ,EAAGkB,CAAD,IAAOpB,aAAa,CAAC,EAAC,GAAGD,UAAJ;AAAgB,OAACqB,CAAC,CAACC,MAAF,CAASC,EAAV,GAAeF,CAAC,CAACC,MAAF,CAASE;AAAxC,KAAD,CAD9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IANJ,EAQI;AAAQ,IAAA,OAAO,EAAEpB,SAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aARJ,CADJ;AAaH;;AAED,MAAMC,cAAc,GAAGZ,GAAI;;;;;;;;;;;;;;;;CAA3B;AAkBA,eAAeE,KAAf","sourcesContent":["import React, {useState, useContext} from 'react';\nimport { useMutation } from '@apollo/react-hooks';\nimport gql from 'graphql-tag';\n\nimport { AuthContext } from '../Store/AuthContext';\n\nfunction Login() {\n\n    const { authState, dispatch } = useContext(AuthContext)\n    const [errors, setErrors] = useState({})\n    const [loginInput, setLoginInput] = useState({\n        username: \"\",\n        password: \"\"\n    })\n\n    const [loginUser] = useMutation(LOGIN_MUTATION, {\n        update(_, result){\n            console.log(\"login success: \", result.data.login);\n            dispatch({ type: 'LOGIN', payload: result.data.login})\n        },\n        onError(err){\n            console.log(err.graphQLErrors[0].extensions.exception.errors);\n        },\n        variables: loginInput\n    })\n\n    console.log('authState: ', authState);\n\n    return (\n        <div>\n            <h1>Login</h1>\n            <p>Username</p>\n            <input id='username' value={loginInput.username} \n            onChange={(e) => setLoginInput({...loginInput, [e.target.id]: e.target.value})}/>\n            <p>Password</p>\n            <input id='password' value={loginInput.password} \n            onChange={(e) => setLoginInput({...loginInput, [e.target.id]: e.target.value})}/>\n            <button onClick={loginUser}>Login</button>\n        </div>\n    );\n\n}\n\nconst LOGIN_MUTATION = gql`\n    mutation login(\n        $username: String!\n        $password: String!\n    ){\n        login(\n            username: $username\n            password: $password\n        ){\n            id\n            email\n            username\n            createdAt\n            token\n        }\n    }\n`\n\nexport default Login;"]},"metadata":{},"sourceType":"module"}