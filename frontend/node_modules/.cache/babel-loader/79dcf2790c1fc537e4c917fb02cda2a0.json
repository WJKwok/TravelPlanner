{"ast":null,"code":"const googlePlacesApi = process.env.REACT_APP_GOOGLE_PLACES_API_KEY;\nexport const fetchCategories = async (categories, city, dispatch) => {\n  for (var i = 0; i < categories.length; i++) {\n    // https://stackoverflow.com/questions/43262121/trying-to-use-fetch-and-pass-in-mode-no-cors \n    // added proxy in package.json \"proxy\": \"https://maps.googleapis.com/maps/api\"\n    const response = await fetch(`/place/textsearch/json?query=best+${categories[i]}+${city}&key=${googlePlacesApi}`);\n    const extraSuggestions = await response.json();\n    dispatch({\n      type: \"LOAD_ITINERARY\",\n      payload: {\n        extraSuggestions,\n        placeType: categories[k]\n      }\n    });\n  }\n};","map":{"version":3,"sources":["/Users/wen/Desktop/Projects/React/travelPlanner/client/src/Services/googlePlaceApi.js"],"names":["googlePlacesApi","process","env","REACT_APP_GOOGLE_PLACES_API_KEY","fetchCategories","categories","city","dispatch","i","length","response","fetch","extraSuggestions","json","type","payload","placeType","k"],"mappings":"AACA,MAAMA,eAAe,GAAGC,OAAO,CAACC,GAAR,CAAYC,+BAApC;AAEA,OAAO,MAAMC,eAAe,GAAG,OAAOC,UAAP,EAAmBC,IAAnB,EAAyBC,QAAzB,KAAsC;AAEjE,OAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGH,UAAU,CAACI,MAA/B,EAAuCD,CAAC,EAAxC,EAA2C;AAEvC;AACA;AAEA,UAAME,QAAQ,GAAG,MAAMC,KAAK,CAAE,qCAAoCN,UAAU,CAACG,CAAD,CAAI,IAAGF,IAAK,QAAON,eAAgB,EAAnF,CAA5B;AACA,UAAMY,gBAAgB,GAAG,MAAMF,QAAQ,CAACG,IAAT,EAA/B;AAEAN,IAAAA,QAAQ,CAAC;AAAEO,MAAAA,IAAI,EAAC,gBAAP;AAAyBC,MAAAA,OAAO,EAAC;AAACH,QAAAA,gBAAD;AAAmBI,QAAAA,SAAS,EAAEX,UAAU,CAACY,CAAD;AAAxC;AAAjC,KAAD,CAAR;AACH;AAEJ,CAbM","sourcesContent":["\nconst googlePlacesApi = process.env.REACT_APP_GOOGLE_PLACES_API_KEY;\n\nexport const fetchCategories = async (categories, city, dispatch) => {\n\n    for (var i = 0; i < categories.length; i++){\n\n        // https://stackoverflow.com/questions/43262121/trying-to-use-fetch-and-pass-in-mode-no-cors \n        // added proxy in package.json \"proxy\": \"https://maps.googleapis.com/maps/api\"\n\n        const response = await fetch(`/place/textsearch/json?query=best+${categories[i]}+${city}&key=${googlePlacesApi}`)\n        const extraSuggestions = await response.json();\n\n        dispatch({ type:\"LOAD_ITINERARY\", payload:{extraSuggestions, placeType: categories[k]}})\n    }\n\n}"]},"metadata":{},"sourceType":"module"}