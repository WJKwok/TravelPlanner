{"ast":null,"code":"var _jsxFileName = \"/Users/wen/Desktop/Projects/React/dnd/src/Components/form.js\";\nimport React, { useState, useContext } from 'react';\nimport { PlaceContext } from '../Store/PlaceContext';\n\nfunction Form() {\n  const {\n    dispatch\n  } = useContext(PlaceContext);\n  const [type, setType] = useState('Restaurants');\n  const [days, setDays] = useState(0);\n  const [location, setLocation] = useState(\"Berlin\");\n  const placeTypes = ['Restaurants', \"Hotels\", \"Tourist+attraction\"];\n\n  const fetchPlaces = async () => {\n    const googlePlacesApi = process.env.REACT_APP_GOOGLE_PLACES_API_KEY;\n\n    for (var i; i < placeTypes.length; i++) {\n      const response = await fetch(`/place/textsearch/json?query=best+${placeTypes[i]}+${location}&key=${googlePlacesApi}`);\n      const data = await response.json();\n      console.log(data);\n    }\n  };\n\n  const clickHandler = async () => {\n    // https://stackoverflow.com/questions/43262121/trying-to-use-fetch-and-pass-in-mode-no-cors \n    // added proxy in package.json \"proxy\": \"https://maps.googleapis.com/maps/api\"\n    // const googlePlacesApi = process.env.REACT_APP_GOOGLE_PLACES_API_KEY;\n    // const response = await fetch(`/place/textsearch/json?query=best+${type}+${location}&key=${googlePlacesApi}`)\n    // const data = await response.json();\n    // //console.log(data);\n    // dispatch({ type:'SHOW_PLACES', search: {data, days, location}});\n    fetchPlaces();\n  };\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }, React.createElement(\"select\", {\n    className: \"select-css\",\n    id: \"type\",\n    value: type,\n    onChange: e => setType(e.target.value),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  }, React.createElement(\"option\", {\n    value: \"Restaurants\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }, \"Restaurants\"), React.createElement(\"option\", {\n    value: \"Hotels\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }, \"Hotels\"), React.createElement(\"option\", {\n    value: \"Tourist+attraction\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }, \"Tourist+attraction\")), React.createElement(\"select\", {\n    className: \"select-css\",\n    id: \"place\",\n    value: location,\n    onChange: e => setLocation(e.target.value),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }, React.createElement(\"option\", {\n    value: \"Berlin\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }, \"Berlin\"), React.createElement(\"option\", {\n    value: \"Zurich\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }, \"Zurich\"), React.createElement(\"option\", {\n    value: \"New+York\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }, \"New York\")), React.createElement(\"input\", {\n    id: \"number\",\n    placeholder: \"No. of Days\",\n    type: \"text\",\n    value: days,\n    onChange: e => setDays(e.target.value),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  }), React.createElement(\"button\", {\n    type: \"submit\",\n    onClick: clickHandler,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }, \"Submit\"));\n}\n\nexport default Form;","map":{"version":3,"sources":["/Users/wen/Desktop/Projects/React/dnd/src/Components/form.js"],"names":["React","useState","useContext","PlaceContext","Form","dispatch","type","setType","days","setDays","location","setLocation","placeTypes","fetchPlaces","googlePlacesApi","process","env","REACT_APP_GOOGLE_PLACES_API_KEY","i","length","response","fetch","data","json","console","log","clickHandler","e","target","value"],"mappings":"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","sourcesContent":["import React, { useState, useContext } from 'react';\n\nimport { PlaceContext } from '../Store/PlaceContext';\n\nfunction Form() {\n\n    const { dispatch } = useContext(PlaceContext);\n\n    const [type, setType] = useState('Restaurants');\n    const [days, setDays] = useState(0);\n    const [location, setLocation] = useState(\"Berlin\");\n\n    const placeTypes = ['Restaurants', \"Hotels\", \"Tourist+attraction\"];\n\n    const fetchPlaces = async () => {\n\n        const googlePlacesApi = process.env.REACT_APP_GOOGLE_PLACES_API_KEY;\n\n        for (var i; i < placeTypes.length; i++){\n            const response = await fetch(`/place/textsearch/json?query=best+${placeTypes[i]}+${location}&key=${googlePlacesApi}`)\n            const data = await response.json();\n            console.log(data);\n        }\n    }\n\n\n    const clickHandler = async () => {\n\n        // https://stackoverflow.com/questions/43262121/trying-to-use-fetch-and-pass-in-mode-no-cors \n        // added proxy in package.json \"proxy\": \"https://maps.googleapis.com/maps/api\"\n        // const googlePlacesApi = process.env.REACT_APP_GOOGLE_PLACES_API_KEY;\n        \n        // const response = await fetch(`/place/textsearch/json?query=best+${type}+${location}&key=${googlePlacesApi}`)\n        // const data = await response.json();\n        \n        // //console.log(data);\n        // dispatch({ type:'SHOW_PLACES', search: {data, days, location}});\n\n        fetchPlaces();\n\n    };\n\n    return (\n        <div>\n            <select className=\"select-css\" id='type' value={type} onChange={(e) => setType(e.target.value)}>\n                <option value=\"Restaurants\">Restaurants</option>\n                <option value=\"Hotels\">Hotels</option>\n                <option value=\"Tourist+attraction\">Tourist+attraction</option>\n            </select>\n            <select className=\"select-css\" id='place' value={location} onChange={(e) => setLocation(e.target.value)}>\n                <option value=\"Berlin\">Berlin</option>\n                <option value=\"Zurich\">Zurich</option>\n                <option value=\"New+York\">New York</option>\n            </select>\n            {/* <input id='place' placeholder='City' type=\"text\" value={location} onChange={(e) => setLocation(e.target.value)}/> */}\n            <input id='number' placeholder='No. of Days' type=\"text\" value={days} onChange={(e) => setDays(e.target.value)}/>\n            <button type='submit' onClick={clickHandler}>Submit</button>\n        </div>\n    );\n}\n\nexport default Form;\n\n"]},"metadata":{},"sourceType":"module"}